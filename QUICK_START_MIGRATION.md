# å¿«é€Ÿå¼€å§‹ - æ•°æ®åº“è¿ç§»

## é€‚ç”¨åœºæ™¯

å¦‚æœæ‚¨çš„æ•°æ®åº“å·²ç»å­˜åœ¨å¹¶ä¸”æœ‰æ•°æ®ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œè¿ç§»ã€‚

## ä¸€é”®è¿ç§»ï¼ˆæ¨èï¼‰

### æ­¥éª¤1ï¼šå¤‡ä»½æ•°æ®åº“

```bash
# å¤‡ä»½æ•´ä¸ªæ•°æ®åº“
mysqldump -u root -p class_report > backup_$(date +%Y%m%d_%H%M%S).sql
```

### æ­¥éª¤2ï¼šæ‰§è¡Œè¿ç§»

```bash
# ç™»å½•MySQLå¹¶æ‰§è¡Œè¿ç§»è„šæœ¬
mysql -u root -p class_report < src/main/resources/db/migrate_id_to_string.sql
```

è¿ç§»è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š
- âœ… å°†æ‰€æœ‰IDå­—æ®µä» BIGINT æ”¹ä¸º VARCHAR(50)
- âœ… è‡ªåŠ¨è½¬æ¢ç°æœ‰æ•°æ®ï¼ˆå¦‚ï¼š1234567890 â†’ "1234567890"ï¼‰
- âœ… é‡å»ºæ‰€æœ‰ç›¸å…³ç´¢å¼•
- âœ… å¤„ç†å¤–é”®å­—æ®µï¼ˆteacher_no, course_idç­‰ï¼‰

### æ­¥éª¤3ï¼šé‡å¯åº”ç”¨

```bash
# å¦‚æœä½¿ç”¨Mavenè¿è¡Œ
mvn clean spring-boot:run

# æˆ–è€…å¦‚æœå·²ç»æ‰“åŒ…
java -jar target/class_report_system-0.0.1-SNAPSHOT.jar
```

## éªŒè¯è¿ç§»æˆåŠŸ

### æ–¹æ³•1ï¼šæ£€æŸ¥è¡¨ç»“æ„

```sql
USE class_report;

-- æŸ¥çœ‹adminè¡¨ç»“æ„ï¼Œç¡®è®¤idä¸ºvarchar(50)
DESCRIBE admin;

-- æŸ¥çœ‹courseè¡¨ç»“æ„ï¼Œç¡®è®¤idå’Œteacher_noéƒ½ä¸ºvarchar(50)
DESCRIBE course;
```

æœŸæœ›è¾“å‡ºï¼š
```
+-------+-------------+------+-----+---------+-------+
| Field | Type        | Null | Key | Default | Extra |
+-------+-------------+------+-----+---------+-------+
| id    | varchar(50) | NO   | PRI | NULL    |       |
...
```

### æ–¹æ³•2ï¼šæµ‹è¯•API

å¯åŠ¨åº”ç”¨åï¼Œè®¿é—®Knife4jæ–‡æ¡£é¡µé¢ï¼š
```
http://localhost:8080/doc.html
```

æµ‹è¯•ä»»æ„APIï¼Œç¡®è®¤åŠŸèƒ½æ­£å¸¸ã€‚

## å…¨æ–°å®‰è£…

å¦‚æœæ˜¯å…¨æ–°æ•°æ®åº“ï¼Œç›´æ¥è¿è¡Œå®Œæ•´å»ºè¡¨è„šæœ¬ï¼š

```bash
mysql -u root -p < src/main/resources/db/complete_schema.sql
```

## æ•…éšœæ¢å¤

å¦‚æœè¿ç§»å‡ºç°é—®é¢˜ï¼Œä½¿ç”¨å¤‡ä»½æ¢å¤ï¼š

```bash
# åˆ é™¤æ•°æ®åº“
mysql -u root -p -e "DROP DATABASE class_report;"

# ä»å¤‡ä»½æ¢å¤
mysql -u root -p < backup_YYYYMMDD_HHMMSS.sql
```

## å¸¸è§é—®é¢˜

**Q: è¿ç§»ä¼šä¸¢å¤±æ•°æ®å—ï¼Ÿ**
A: ä¸ä¼šã€‚MySQLä¼šè‡ªåŠ¨å°†BIGINTå€¼è½¬æ¢ä¸ºVARCHARå­—ç¬¦ä¸²ã€‚

**Q: è¿ç§»éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ**
A: å–å†³äºæ•°æ®é‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°äº1åˆ†é’Ÿã€‚

**Q: å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥è¿è¡Œå—ï¼Ÿ**
A: å»ºè®®å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯ï¼Œç¡®è®¤æ— è¯¯åå†åœ¨ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œã€‚

**Q: å¦‚æœä¸­é€”å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: è¿ç§»è„šæœ¬ä½¿ç”¨äº‹åŠ¡ï¼Œå¤±è´¥ä¼šè‡ªåŠ¨å›æ»šã€‚ä½¿ç”¨å¤‡ä»½æ¢å¤å³å¯ã€‚

## æŠ€æœ¯æ”¯æŒ

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒï¼š
- ğŸ“„ å®Œæ•´è¿ç§»æŒ‡å—ï¼š`DATABASE_MIGRATION.md`
- ğŸ“„ å˜æ›´è¯¦æƒ…ï¼š`CHANGES_SUMMARY.md`
